<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>worker demo</title>
</head>
<body>
<button id='calc'>Calculate</button>
<p id='result'></p>
  	<script type="text/javascript" src="../js/exampleUtil.js"></script>
	<script type="text/javascript" src="../node_modules/vis-network/standalone/umd/vis-network.min.js"></script>

<script>
var myWorker = new Worker('../experiments/betweenness.js');

var nodes = new vis.DataSet();
var edges = new vis.DataSet();
var data= {
        nodes: nodes,
        edges: edges
    };


function getRandomData(nNodes) {
    // randomly create some nodes and edges
    var SFNdata = getScaleFreeNetwork(nNodes);
    nodes.add(SFNdata.nodes);
    edges.add(SFNdata.edges);
};

getRandomData(10000);

calc.onclick = function() {
  myWorker.postMessage([nodes.get(), edges.get()]);
  console.log('Message posted to worker');
}

myWorker.onmessage = function(e) {
  result.textContent = e.data;
  console.log('Message received from worker');
  console.log(e.data);
}
</script>
</body>
</html>
